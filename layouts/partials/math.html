<!-- MathJax global config — MUST come first -->
<script>
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']],
      processEscapes: true
    },
    svg: { fontCache: 'global' }
  };
</script>

<!-- Component loader — MUST be second, use defer (not async) -->
<script id="MathJax-script" defer
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<script>
document.addEventListener('page:loaded', () =>
  window.MathJax?.typesetPromise && MathJax.typesetPromise());
</script>
